- [ ] `.cursor/` 디렉토리
  - [ ] `rules/` 커서룰
  - [ ] `mcp.json` MCP 서버 설정
  - [ ] `dir.md` 프로젝트 디렉토리 구조
- [ ] `.github/` 디렉토리
- [ ] `.husky/` 디렉토리
- [ ] `app/` 디렉토리
  - [ ] `favicon.ico` 파일
  - [ ] `not-found.tsx` 파일
  - [ ] `robots.ts` 파일
  - [ ] `sitemap.ts` 파일
  - [ ] `manifest.ts` 파일
- [ ] `supabase/` 디렉토리
- [ ] `public/` 디렉토리
  - [ ] `icons/` 디렉토리
  - [ ] `logo.png` 파일
  - [ ] `og-image.png` 파일
- [ ] `tsconfig.json` 파일
- [ ] `.cursorignore` 파일
- [ ] `.gitignore` 파일
- [ ] `.prettierignore` 파일
- [ ] `.prettierrc` 파일
- [ ] `tsconfig.json` 파일
- [ ] `eslint.config.mjs` 파일
- [ ] `AGENTS.md` 파일

# My Trip - 개발 TODO 리스트

> PRD, Flowchart, Design 문서 기반 작업 항목 정리

## Phase 1: 기본 구조 & 공통 설정

- [x] 프로젝트 셋업
  - [x] 환경변수 설정 (`.env`)
    - [x] `NEXT_PUBLIC_TOUR_API_KEY` (한국관광공사 API)
    - [x] `TOUR_API_KEY` (서버 사이드용)
    - [x] `NEXT_PUBLIC_NAVER_MAP_CLIENT_ID` (네이버 지도)
    - [x] Clerk 인증 키 확인
    - [x] Supabase 키 확인
  - [x] `.env.example` 파일 생성
  - [x] 환경변수 검증 유틸리티 (`lib/utils/env.ts`)
- [x] API 클라이언트 구현
  - [x] `lib/api/tour-api.ts` 생성
    - [x] `getAreaCode()` - 지역코드 조회 (`areaCode2`)
    - [x] `getAreaBasedList()` - 지역 기반 목록 (`areaBasedList2`)
    - [x] `searchKeyword()` - 키워드 검색 (`searchKeyword2`)
    - [x] `getDetailCommon()` - 공통 정보 (`detailCommon2`)
    - [x] `getDetailIntro()` - 소개 정보 (`detailIntro2`)
    - [x] `getDetailImage()` - 이미지 목록 (`detailImage2`)
    - [x] `getDetailPetTour()` - 반려동물 정보 (`detailPetTour2`)
    - [x] 공통 파라미터 처리 (serviceKey, MobileOS, MobileApp, \_type)
    - [x] 에러 처리 및 재시도 로직 (최대 3회, exponential backoff, 타임아웃 10초)
- [x] 타입 정의
  - [x] `lib/types/tour.ts` 생성
    - [x] `TourItem` 인터페이스 (목록)
    - [x] `TourDetail` 인터페이스 (상세)
    - [x] `TourIntro` 인터페이스 (운영정보)
    - [x] `TourImage` 인터페이스 (이미지)
    - [x] `PetTourInfo` 인터페이스 (반려동물)
    - [x] `AreaCode` 인터페이스 (지역코드)
    - [x] 좌표 변환 유틸리티 (`convertKATECToWGS84`)
    - [x] 관광 타입 매핑 및 헬퍼 함수
  - [x] `lib/types/stats.ts` 생성
    - [x] `RegionStats` 인터페이스
    - [x] `TypeStats` 인터페이스
    - [x] `StatsSummary` 인터페이스
- [x] 레이아웃 구조
  - [x] `app/layout.tsx` 업데이트
    - [x] 메타데이터 설정 (My Trip 관련)
    - [x] Open Graph 태그 추가
    - [x] Toaster 추가 (sonner)
  - [x] `components/Navbar.tsx` 업데이트
    - [x] 로고 변경 ("My Trip")
    - [x] 검색창 추가 (데스크톱/모바일 반응형)
    - [x] 로그인 버튼
    - [x] 네비게이션 링크 (홈, 통계, 북마크)
- [x] 공통 컴포넌트
  - [x] `components/ui/loading.tsx` - 로딩 스피너
  - [x] `components/ui/skeleton.tsx` - 스켈레톤 UI (shadcn/ui)
  - [x] `components/ui/error.tsx` - 에러 메시지
  - [x] `components/ui/sonner.tsx` - 토스트 알림 (shadcn/ui, toast 대체)

## Phase 2: 홈페이지 (`/`) - 관광지 목록

- [x] 페이지 기본 구조
  - [x] `app/page.tsx` 생성
    - [x] 기본 레이아웃 (헤더, 메인, 푸터)
    - [x] 반응형 컨테이너 설정
- [x] 관광지 목록 기능 (MVP 2.1)
  - [x] `components/tour-card.tsx` 생성
    - [x] 썸네일 이미지 (기본 이미지 fallback)
    - [x] 관광지명
    - [x] 주소 표시
    - [x] 관광 타입 뱃지
    - [x] 간단한 개요 (1-2줄)
    - [x] 호버 효과 (scale, shadow)
    - [x] 클릭 시 상세페이지 이동
  - [x] `components/tour-list.tsx` 생성
    - [x] 그리드 레이아웃 (반응형)
    - [x] 카드 목록 표시
    - [x] 로딩 상태 (Skeleton UI)
    - [x] 빈 상태 처리
  - [x] API 연동
    - [x] `getAreaBasedList()` 호출
    - [x] 데이터 파싱 및 표시
    - [x] 에러 처리
- [x] 필터 기능
  - [x] `components/tour-filters.tsx` 생성
    - [x] 지역 필터 (시/도 선택)
      - [x] `getAreaCode()` API로 지역 목록 로드
      - [x] 드롭다운 또는 버튼 그룹
      - [x] "전체" 옵션
    - [x] 관광 타입 필터
      - [x] 관광지(12), 문화시설(14), 축제/행사(15), 여행코스(25), 레포츠(28), 숙박(32), 쇼핑(38), 음식점(39)
      - [x] 다중 선택 가능
      - [x] "전체" 옵션
    - [x] 반려동물 동반 가능 필터 (MVP 2.5)
      - [x] 토글 버튼
      - [x] 크기별 필터 (소형, 중형, 대형)
    - [x] 정렬 옵션
      - [x] 최신순 (modifiedtime)
      - [x] 이름순 (가나다)
    - [x] 필터 상태 관리 (URL 쿼리 파라미터 또는 상태)
  - [x] 필터 적용 로직
    - [x] 필터 변경 시 API 재호출
    - [x] 필터 조합 처리
- [x] 검색 기능 (MVP 2.3)
  - [x] `components/tour-search.tsx` 생성
    - [x] 검색창 UI (헤더 또는 메인 영역) - Navbar에 구현됨
    - [x] 검색 아이콘
    - [x] 엔터 또는 버튼 클릭으로 검색
    - [x] 검색 중 로딩 스피너 - Suspense로 처리
  - [x] 검색 API 연동
    - [x] `searchKeyword()` 호출
    - [x] 검색 결과 표시
    - [x] 검색 결과 개수 표시
    - [x] 결과 없음 메시지
  - [x] 검색 + 필터 조합
    - [x] 키워드 + 지역 필터
    - [x] 키워드 + 타입 필터
    - [x] 모든 필터 동시 적용
- [x] 네이버 지도 연동 (MVP 2.2)
  - [x] `components/naver-map.tsx` 생성
    - [x] Naver Maps API v3 초기화
    - [x] 지도 컨테이너 설정
    - [x] 초기 중심 좌표 설정
    - [x] 줌 레벨 설정
  - [x] 마커 표시
    - [x] 관광지 목록을 마커로 표시
    - [x] 좌표 변환 (KATEC → WGS84: mapx/mapy / 10000000)
    - [x] 마커 클릭 시 인포윈도우
      - [x] 관광지명
      - [x] 간단한 설명
      - [x] "상세보기" 버튼
    - [ ] 관광 타입별 마커 색상 구분 (선택 사항) - 기본 마커 사용
  - [x] 지도-리스트 연동
    - [x] 리스트 항목 클릭 → 지도 이동 및 마커 강조
    - [ ] 리스트 항목 호버 → 마커 강조 (선택 사항) - 향후 구현
    - [x] 마커 클릭 → 리스트 항목 강조
  - [x] 지도 컨트롤
    - [x] 줌 인/아웃 버튼
    - [x] 지도 유형 선택 (일반/스카이뷰)
    - [ ] 현재 위치 버튼 (선택 사항) - 향후 구현
  - [x] 반응형 레이아웃
    - [x] 데스크톱: 리스트(좌측 50%) + 지도(우측 50%) 분할
    - [x] 모바일: 탭 형태로 리스트/지도 전환
- [x] 페이지네이션
  - [ ] 무한 스크롤 구현
    - [ ] Intersection Observer 사용
    - [ ] 하단 로딩 인디케이터
    - [ ] 페이지당 10-20개 항목
  - [x] 또는 페이지 번호 선택 방식
    - [x] `components/tour-pagination.tsx` 생성
    - [x] 페이지 번호 버튼 (데스크톱/모바일 반응형)
    - [x] 이전/다음 버튼
    - [x] 현재 페이지 하이라이트
    - [x] 총 개수 및 현재 범위 표시
    - [x] URL 쿼리 파라미터로 페이지 상태 관리
    - [x] 페이지당 15개 항목 표시
    - [x] 필터/검색 변경 시 페이지 1로 리셋
- [x] 최종 통합 및 스타일링
  - [x] 모든 기능 통합 테스트
    - [x] 테스트 체크리스트 작성 (docs/TEST_CHECKLIST.md)
  - [x] 반응형 디자인 확인 (모바일/태블릿/데스크톱)
    - [x] 모바일 반응형 스타일 개선
    - [x] 태블릿 레이아웃 최적화
    - [x] 데스크톱 레이아웃 확인
    - [x] 터치 영역 최소 44x44px 보장
  - [x] 로딩 상태 개선
    - [x] 필터 변경 시 로딩 인디케이터 추가
    - [x] 페이지 변경 시 로딩 표시
    - [x] 검색 실행 시 로딩 표시
  - [x] 에러 처리 개선
    - [x] 네트워크 에러 감지 및 오프라인 상태 처리
    - [x] 에러 메시지 사용자 친화적으로 개선
    - [x] 재시도 기능 개선

## Phase 3: 상세페이지 (`/places/[contentId]`)

- [x] 페이지 기본 구조
  - [x] `app/places/[contentId]/page.tsx` 생성
    - [x] 동적 라우팅 설정
    - [x] 뒤로가기 버튼 (헤더)
    - [x] 기본 레이아웃 구조
    - [ ] 라우팅 테스트
- [x] 기본 정보 섹션 (MVP 2.4.1)
  - [x] `components/tour-detail/detail-info.tsx` 생성
    - [x] `getDetailCommon()` API 연동
    - [x] 관광지명 (대제목)
    - [x] 대표 이미지 (크게 표시)
    - [x] 주소 표시 및 복사 기능
      - [x] 클립보드 API 사용
      - [x] 복사 완료 토스트
    - [x] 전화번호 (클릭 시 전화 연결)
    - [x] 홈페이지 (링크)
    - [x] 개요 (긴 설명문)
    - [x] 관광 타입 및 카테고리 뱃지
    - [x] 정보 없는 항목 숨김 처리
- [x] 운영 정보 섹션 (MVP 2.4.2)
  - [x] `components/tour-detail/detail-intro.tsx` 생성
    - [x] `getDetailIntro()` API 연동
    - [x] 운영시간/개장시간
    - [x] 휴무일
    - [x] 이용요금
    - [x] 주차 가능 여부
    - [x] 수용인원
    - [x] 체험 프로그램
    - [x] 유모차/반려동물 동반 가능 여부
    - [x] 정보 없는 항목 숨김 처리
- [x] 이미지 갤러리 (MVP 2.4.3)
  - [x] `components/tour-detail/detail-gallery.tsx` 생성
    - [x] `getDetailImage()` API 연동
    - [x] 대표 이미지 + 서브 이미지들
    - [x] 이미지 슬라이드 기능 (Swiper 또는 캐러셀)
    - [x] 이미지 클릭 시 전체화면 모달
    - [x] 이미지 없으면 기본 이미지
    - [x] Next.js Image 컴포넌트 사용 (최적화)
- [x] 지도 섹션 (MVP 2.4.4)
  - [x] `components/tour-detail/detail-map.tsx` 생성
    - [x] 해당 관광지 위치 표시
    - [x] 마커 1개 표시
    - [x] "길찾기" 버튼
      - [x] 네이버 지도 앱/웹 연동
      - [x] URL: `https://map.naver.com/v5/directions/{좌표}`
    - [ ] 좌표 정보 표시 (선택 사항)
- [x] 공유 기능 (MVP 2.4.5)
  - [x] `components/tour-detail/share-button.tsx` 생성
    - [x] URL 복사 기능
      - [x] `navigator.clipboard.writeText()` 사용
      - [x] HTTPS 환경 확인
    - [x] 복사 완료 토스트 메시지
    - [x] 공유 아이콘 버튼 (Share/Link 아이콘)
  - [x] Open Graph 메타태그
    - [x] `app/places/[contentId]/page.tsx`에 Metadata 생성
    - [x] `og:title` - 관광지명
    - [x] `og:description` - 관광지 설명 (100자 이내)
    - [x] `og:image` - 대표 이미지 (1200x630 권장)
    - [x] `og:url` - 상세페이지 URL
    - [x] `og:type` - "website"
- [x] 북마크 기능 (MVP 2.4.5)
  - [x] `components/bookmarks/bookmark-button.tsx` 생성
    - [x] 별 아이콘 (채워짐/비어있음)
    - [x] 북마크 상태 확인 (Supabase 조회)
    - [x] 북마크 추가/제거 기능
    - [x] 인증된 사용자 확인 (Clerk)
    - [x] 로그인하지 않은 경우: 로그인 유도 또는 localStorage 임시 저장
  - [x] Supabase 연동
    - [x] `lib/api/supabase-api.ts` 생성
      - [x] `getBookmark()` - 북마크 조회
      - [x] `addBookmark()` - 북마크 추가
      - [x] `removeBookmark()` - 북마크 제거
      - [x] `getUserBookmarks()` - 사용자 북마크 목록
    - [x] `bookmarks` 테이블 사용 (db.sql 참고)
      - [x] `user_id` (users 테이블 참조)
      - [x] `content_id` (한국관광공사 API contentid)
      - [x] UNIQUE 제약 (user_id, content_id)
  - [x] 상세페이지에 북마크 버튼 추가
- [x] 반려동물 정보 섹션 (MVP 2.5)
  - [x] `components/tour-detail/detail-pet-tour.tsx` 생성
    - [x] `getDetailPetTour()` API 연동
    - [x] 반려동물 동반 가능 여부 표시
    - [x] 반려동물 크기 제한 정보
    - [x] 반려동물 입장 가능 장소 (실내/실외)
    - [x] 반려동물 동반 추가 요금
    - [x] 반려동물 전용 시설 정보
    - [x] 아이콘 및 뱃지 디자인 (🐾)
    - [x] 주의사항 강조 표시
- [x] 추천 관광지 섹션 (선택 사항)
  - [x] 같은 지역 또는 타입의 다른 관광지 추천
  - [x] 카드 형태로 표시
- [x] 최종 통합 및 스타일링
  - [x] 모든 섹션 통합
  - [x] 반응형 디자인 확인
  - [x] 모바일 최적화
  - [x] 접근성 확인 (ARIA 라벨, 키보드 네비게이션)

## Phase 4: 통계 대시보드 페이지 (`/stats`)

- [x] 페이지 기본 구조
  - [x] `app/stats/page.tsx` 생성
    - [x] 기본 레이아웃 구조
    - [x] 반응형 레이아웃 설정 (모바일 우선)
    - [x] Server Component로 구현
- [x] 통계 데이터 수집
  - [x] `lib/api/stats-api.ts` 생성
    - [x] `getRegionStats()` - 지역별 관광지 개수 집계
      - [x] `areaBasedList2` API로 각 지역별 totalCount 조회
      - [x] 지역 코드별로 API 호출
    - [x] `getTypeStats()` - 타입별 관광지 개수 집계
      - [x] `areaBasedList2` API로 각 타입별 totalCount 조회
      - [x] contentTypeId별로 API 호출
    - [x] `getStatsSummary()` - 전체 통계 요약
      - [x] 전체 관광지 수
      - [x] Top 3 지역
      - [x] Top 3 타입
      - [x] 마지막 업데이트 시간
    - [x] 병렬 API 호출로 성능 최적화
    - [x] 에러 처리 및 재시도 로직
    - [x] 데이터 캐싱 (revalidate: 3600)
- [x] 통계 요약 카드
  - [x] `components/stats/stats-summary.tsx` 생성
    - [x] 전체 관광지 수 표시
    - [x] Top 3 지역 표시 (카드 형태)
    - [x] Top 3 타입 표시 (카드 형태)
    - [x] 마지막 업데이트 시간 표시
    - [x] 로딩 상태 (Skeleton UI)
    - [x] 카드 레이아웃 디자인
- [x] 지역별 분포 차트 (Bar Chart)
  - [x] `components/stats/region-chart.tsx` 생성
    - [x] shadcn/ui Chart 컴포넌트 설치 (Bar)
    - [x] recharts 기반 Bar Chart 구현
    - [x] X축: 지역명 (서울, 부산, 제주 등)
    - [x] Y축: 관광지 개수
    - [x] 상위 10개 지역 표시 (또는 전체)
    - [x] 바 클릭 시 해당 지역 목록 페이지로 이동
    - [x] 호버 시 정확한 개수 표시
    - [x] 다크/라이트 모드 지원
    - [x] 반응형 디자인
    - [x] 로딩 상태
    - [x] 접근성 (ARIA 라벨, 키보드 네비게이션)
- [x] 타입별 분포 차트 (Donut Chart)
  - [x] `components/stats/type-chart.tsx` 생성
    - [x] shadcn/ui Chart 컴포넌트 설치 (Pie/Donut)
    - [x] recharts 기반 Donut Chart 구현
    - [x] 타입별 비율 (백분율)
    - [x] 타입별 개수 표시
    - [x] 섹션 클릭 시 해당 타입 목록 페이지로 이동
    - [x] 호버 시 타입명, 개수, 비율 표시
    - [x] 다크/라이트 모드 지원
    - [x] 반응형 디자인
    - [x] 로딩 상태
    - [x] 접근성 (ARIA 라벨)
- [x] 페이지 통합
  - [x] `app/stats/page.tsx`에 모든 컴포넌트 통합
    - [x] 통계 요약 카드 (상단)
    - [x] 지역별 분포 차트 (중단)
    - [x] 타입별 분포 차트 (하단)
  - [x] 에러 처리 (에러 메시지 + 재시도 버튼)
  - [x] 네비게이션에 통계 페이지 링크 추가
  - [x] 최종 페이지 확인

## Phase 5: 북마크 페이지 (`/bookmarks`) - 선택 사항

- [ ] Supabase 설정 확인
  - [ ] `bookmarks` 테이블 확인 (db.sql 참고)
    - [ ] `users` 테이블과의 관계 확인
    - [ ] 인덱스 확인 (user_id, content_id, created_at)
    - [ ] RLS 비활성화 확인 (개발 환경)
  ***
  - 추가 개발 사항
    - [x] `scripts/verify-supabase-setup.ts` 생성 - Supabase 설정 확인 스크립트 작성
    - [x] `package.json`에 `verify:supabase` 스크립트 추가
    - [x] `docs/SUPABASE_VERIFICATION.md` 가이드 문서 생성
    - [x] `scripts/verify-supabase-setup.ts` 개선 - 인덱스, 외래키, UNIQUE 제약조건 확인을 더 정확하게 구현
      - [x] `users` 테이블 구조 확인 추가
      - [x] UNIQUE 제약조건 실제 중복 삽입 시도로 검증
      - [x] 외래키 확인 개선 (수동 확인 쿼리 안내 추가)
      - [x] 인덱스 확인 개선 (수동 확인 쿼리 안내 추가)
    - [x] `docs/SUPABASE_VERIFICATION.md` 업데이트 - Supabase 대시보드 수동 확인 방법 및 SQL 쿼리 추가
      - [x] Table Editor 확인 방법 추가
      - [x] SQL Editor 확인 쿼리 상세화 (테이블 구조, UNIQUE 제약조건, 외래키, 인덱스, RLS 상태)
      - [x] 문제 해결 가이드 개선 (UNIQUE 제약조건, 외래키 추가)
    - [x] `supabase/migrations/20251211113345_create_bookmarks_schema.sql` 생성 - db.sql 내용을 마이그레이션 파일 형식으로 변환
- [x] 북마크 목록 페이지
  - [x] `app/bookmarks/page.tsx` 생성
    - [x] 인증된 사용자만 접근 가능
    - [x] 로그인하지 않은 경우 로그인 유도
  - [x] `components/bookmarks/bookmark-list.tsx` 생성
    - [x] 사용자 북마크 목록 조회 (`getUserBookmarks()`)
    - [x] 카드 레이아웃 (홈페이지와 동일한 tour-card 사용)
    - [x] 빈 상태 처리 (북마크 없을 때)
    - [x] 로딩 상태 (Skeleton UI)
  ***
  - 추가 개발 사항
    - [x] `lib/api/supabase-api.ts`에 `getUserBookmarksWithDetails()` 함수 추가 - contentId 배열을 TourItem[]로 변환
      - [x] `getUserBookmarks()`로 contentId 배열 조회
      - [x] 각 contentId로 `getDetailCommon()` API 호출하여 관광지 정보 조회
      - [x] TourDetail을 TourItem으로 변환
      - [x] 병렬 처리로 성능 최적화 (Promise.allSettled 사용)
      - [x] 에러 처리: 일부 관광지 정보 조회 실패 시에도 나머지 표시
    - [x] `app/bookmarks/page.tsx` 생성 - Server Component, Clerk 인증 확인
      - [x] Clerk `auth()` 사용하여 인증 확인
      - [x] 로그인하지 않은 경우 `/sign-in`으로 리다이렉트
      - [x] Suspense + Skeleton UI로 로딩 상태 처리
      - [x] 에러 처리: try-catch로 에러 처리, 에러 메시지 표시
      - [x] 메타데이터 설정 (title, description)
    - [x] `components/bookmarks/bookmark-list.tsx` 생성 - TourCard 재사용, 그리드 레이아웃
      - [x] TourCard 컴포넌트 재사용
      - [x] 그리드 레이아웃 (반응형: 모바일 1열, 태블릿 2열, 데스크톱 3열)
      - [x] 빈 상태 처리 (BookmarkEmpty 컴포넌트 통합)
      - [x] 북마크 개수 표시
      - [x] ARIA 라벨 추가 (접근성)
    - [x] `components/bookmarks/bookmark-list-skeleton.tsx` 생성 - 로딩 스켈레톤 UI
      - [x] TourCard와 동일한 레이아웃의 Skeleton 카드 표시
      - [x] 6개의 스켈레톤 카드 표시
    - [x] 성능 최적화
      - [x] 병렬 처리: Promise.allSettled로 여러 contentId의 관광지 정보 병렬 조회
      - [x] 에러 처리: 일부 실패해도 성공한 항목만 표시
- [x] 북마크 관리 기능
  - [x] 정렬 옵션
    - [x] 최신순 (created_at DESC)
    - [x] 이름순 (가나다순)
    - [x] 지역별
  - [x] 일괄 삭제 기능
    - [x] 체크박스 선택
    - [x] 선택 항목 삭제
    - [x] 확인 다이얼로그
  - [x] 개별 삭제 기능
    - [x] 각 카드에 삭제 버튼
  ***
  - 추가 개발 사항
    - [x] shadcn/ui 컴포넌트 설치 - checkbox, select
    - [x] `actions/bookmark.ts`에 `removeBookmarksBatch()` 함수 추가 - 일괄 삭제 Server Action
      - [x] 병렬 처리로 성능 최적화 (Promise.allSettled)
      - [x] 성공한 개수와 실패한 개수 반환
      - [x] 일부 실패해도 성공한 항목은 삭제
    - [x] `actions/bookmark.ts`에 `deleteBookmark()` 함수 추가 - 개별 삭제 Server Action
    - [x] `lib/api/supabase-api.ts`의 `getUserBookmarksWithDetails()` 업데이트 - created_at 정보 포함 (최신순 정렬용)
      - [x] 북마크 조회 시 `created_at` 정보도 함께 조회
      - [x] TourItem에 `bookmarkCreatedAt` 필드 추가
    - [x] `components/bookmarks/bookmark-sort.tsx` 생성 - 정렬 옵션 컴포넌트
      - [x] Select 드롭다운 UI
      - [x] 정렬 옵션: 최신순, 이름순, 지역별
      - [x] 정렬 상태 관리 (useState)
    - [x] `components/bookmarks/bookmark-card.tsx` 생성 - 삭제 버튼이 포함된 북마크 카드
      - [x] TourCard 래핑
      - [x] 삭제 버튼 추가 (호버 시 표시)
      - [x] 삭제 확인 다이얼로그
      - [x] Optimistic update 지원
      - [x] 삭제 성공 시 콜백 호출
    - [x] `components/bookmarks/bookmark-bulk-actions.tsx` 생성 - 일괄 삭제 UI
      - [x] 전체 선택/해제 체크박스
      - [x] 선택된 항목 개수 표시
      - [x] 일괄 삭제 버튼
      - [x] 삭제 확인 다이얼로그
      - [x] 선택 모드 상태 관리
    - [x] `components/bookmarks/bookmark-list.tsx` 업데이트 - 정렬, 일괄 삭제, 개별 삭제 기능 통합
      - [x] 정렬 옵션 컴포넌트 통합
      - [x] 일괄 삭제 UI 통합
      - [x] BookmarkCard 사용 (TourCard 대신)
      - [x] 정렬된 목록 표시 (useMemo로 메모이제이션)
      - [x] 선택 모드 상태 관리
      - [x] 삭제 후 목록 업데이트 (router.refresh())
      - [x] 체크박스 선택 기능 (개별 항목)
- [x] 페이지 통합 및 스타일링
  - [x] 반응형 디자인 확인
  - [x] 최종 페이지 확인
  ***
  - 추가 개발 사항
    - [x] `app/bookmarks/page.tsx` 개선 - 홈페이지와 일관성 확보
      - [x] `main` 태그 추가 및 `max-w-7xl` 컨테이너 적용
      - [x] 패딩 및 마진 홈페이지와 일관성 확보 (`py-4 sm:py-6`)
      - [x] 에러 상태 버튼을 `Button` 컴포넌트로 변경 (접근성 개선)
    - [x] `components/bookmarks/bookmark-list.tsx` 개선 - 반응형 및 접근성 개선
      - [x] 빈 상태 컴포넌트 반응형 개선 (아이콘, 텍스트 크기)
      - [x] 헤더 영역 반응형 개선 (gap, 텍스트 크기)
      - [x] 체크박스 크기 및 포커스 스타일 개선 (`h-5 w-5`, `focus-visible:ring-2`)
    - [x] `components/bookmarks/bookmark-sort.tsx` 개선 - 반응형 및 접근성 개선
      - [x] Select 컴포넌트 너비 반응형 개선 (`w-[140px] sm:w-[160px]`)
      - [x] 터치 영역 확보 (`min-h-[44px]`)
      - [x] 아이콘 크기 반응형 개선
    - [x] `components/bookmarks/bookmark-bulk-actions.tsx` 개선 - 반응형 및 접근성 개선
      - [x] 레이아웃 반응형 개선 (모바일: 세로, 데스크톱: 가로)
      - [x] 체크박스 및 라벨 터치 영역 확보 (`min-h-[44px]`)
      - [x] 버튼 텍스트 오버플로우 방지 (`truncate`)
      - [x] 다이얼로그 버튼 터치 영역 확보 (`min-h-[44px]`)
    - [x] `components/bookmarks/bookmark-card.tsx` 개선 - 반응형 및 접근성 개선
      - [x] 삭제 버튼 크기 반응형 개선 (모바일: `h-9 w-9`, 데스크톱: `h-8 w-8`)
      - [x] 포커스 스타일 개선 (`focus-visible:ring-2`, `focus-visible:ring-primary`)
      - [x] 키보드 네비게이션 지원 (Enter/Space 키)
      - [x] 다이얼로그 버튼 터치 영역 확보 (`min-h-[44px]`)
    - [x] `components/bookmarks/bookmark-list-skeleton.tsx` 개선 - 스켈레톤 UI 개선
      - [x] 헤더 영역 스켈레톤 추가 (북마크 개수 및 정렬 옵션)
      - [x] 실제 레이아웃과 일치하도록 개선

## Phase 6: 최적화 & 배포

- [x] 이미지 최적화
  - [x] `next.config.ts` 외부 도메인 설정
    - [x] 한국관광공사 이미지 도메인 추가 (`**.go.kr`)
    - [x] 네이버 지도 이미지 도메인 추가 (`**.naver.com`)
  - [x] Next.js Image 컴포넌트 사용 확인
    - [x] priority 속성 (above-the-fold)
    - [x] lazy loading (below-the-fold)
    - [x] responsive sizes 설정
  ***
  - 추가 개발 사항
    - [x] `components/tour-detail/detail-gallery.tsx` 이미지 최적화 개선
      - [x] 대표 이미지에 `priority` 속성 추가 (above-the-fold 우선 로딩)
      - [x] 서브 이미지에 `loading="lazy"` 명시 (below-the-fold 지연 로딩)
      - [x] 모달 이미지에 `loading="lazy"` 명시 (동적 로딩)
      - [x] 대표 이미지 sizes 최적화: `"(max-width: 768px) 100vw, (max-width: 1280px) 80vw, 1024px"`
      - [x] 서브 이미지 sizes 최적화: `"(max-width: 768px) 50vw, (max-width: 1024px) 25vw, 20vw"`
    - [x] `components/tour-detail/detail-info.tsx` 이미지 최적화 개선
      - [x] sizes 값 최적화: `"(max-width: 768px) 100vw, (max-width: 1280px) 80vw, 1024px"` (max-w-5xl 컨테이너 기준)
    - [x] `components/tour-card.tsx` 이미지 최적화 확인
      - [x] `loading="lazy"` 사용 중 (적절함)
      - [x] sizes 값 확인: `"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"` (그리드 레이아웃에 맞게 설정됨)
- [x] 전역 에러 핸들링
  - [x] `app/error.tsx` 생성
  - [x] `app/global-error.tsx` 생성
  - [x] API 에러 처리 개선
  ***
  - 추가 개발 사항
    - [x] `app/error.tsx` 생성 - 라우트 레벨 에러 바운더리
      - [x] Next.js 15 에러 바운더리 패턴 구현
      - [x] 에러 타입별 메시지 처리 (네트워크, 타임아웃, API, 인증)
      - [x] 재시도 기능 (`reset` 함수)
      - [x] 홈으로 돌아가기 버튼
      - [x] 접근성 지원 (`role="alert"`, `aria-live="polite"`)
      - [x] 개발 환경 에러 로깅
    - [x] `app/global-error.tsx` 생성 - 전역 에러 바운더리
      - [x] Root Layout 레벨 에러 처리
      - [x] `html`과 `body` 태그 포함 (layout.tsx 대체)
      - [x] 최소한의 UI 제공
      - [x] 재시도 및 홈으로 돌아가기 기능
      - [x] 접근성 지원
      - [x] 개발 환경 에러 로깅
    - [x] API 에러 처리 확인
      - [x] `lib/api/tour-api.ts` 에러 처리 확인 (이미 잘 구현됨)
      - [x] 재시도 로직 확인 (최대 3회, exponential backoff)
      - [x] 타임아웃 처리 확인 (10초)
      - [x] 에러 코드별 메시지 처리 확인
      - [x] 사용자 친화적인 에러 메시지 확인
- [x] 404 페이지
  - [x] `app/not-found.tsx` 생성
    - [x] 사용자 친화적인 메시지
    - [x] 홈으로 돌아가기 버튼
  ***
  - 추가 개발 사항
    - [x] `app/not-found.tsx` 생성 - 전역 404 페이지
      - [x] Next.js 15 not-found.tsx 패턴 구현
      - [x] Server Component로 구현
      - [x] 사용자 친화적인 404 메시지 ("페이지를 찾을 수 없습니다")
      - [x] 홈으로 돌아가기 버튼
      - [x] 관광지 검색 링크 버튼 추가
      - [x] 추가 네비게이션 링크 (홈, 통계, 북마크)
      - [x] 접근성 지원 (`role="status"`, `aria-live="polite"`)
      - [x] 반응형 디자인 (모바일 우선)
      - [x] 터치 영역 최소 44x44px 확보
      - [x] 메타데이터 설정 (title, description)
      - [x] error.tsx와 일관된 레이아웃 구조 (색상 스킴은 muted 사용)
- [ ] SEO 최적화
  - [x] 메타태그 설정 (`app/layout.tsx`)
    - [x] 기본 title, description
    - [x] Open Graph 태그
    - [x] Twitter Card 태그
  - [x] `app/sitemap.ts` 생성
    - [x] 동적 sitemap 생성 (관광지 상세페이지 포함)
  - [x] `app/robots.ts` 생성
  ***
  - 추가 개발 사항
    - [x] `app/layout.tsx`에 Twitter Card 메타데이터 추가
      - [x] `twitter:card`: "summary_large_image"
      - [x] `twitter:title`, `twitter:description` (Open Graph와 동일)
    - [x] `app/places/[contentId]/page.tsx`의 `generateMetadata`에 Twitter Card 추가
      - [x] 관광지명, 설명, 이미지 포함
      - [x] Open Graph와 일관성 유지
    - [x] `app/stats/page.tsx`에 Twitter Card 메타데이터 추가
      - [x] `twitter:card`: "summary"
      - [x] 통계 페이지용 메타데이터 설정
    - [x] `app/sitemap.ts` 생성 - 동적 sitemap 구현
      - [x] Next.js 15의 `MetadataRoute.Sitemap` 타입 사용
      - [x] 정적 페이지 포함: `/`, `/stats`
      - [x] 동적 페이지 생성: 관광지 상세페이지 (`/places/[contentId]`)
      - [x] `getAreaCode()` API로 지역코드 목록 조회
      - [x] 각 지역별로 `getAreaBasedList()` API 호출하여 관광지 수집
      - [x] 최대 1000개 관광지 제한 (17개 지역 \* 60개씩)
      - [x] 병렬 API 호출로 성능 최적화 (`Promise.allSettled`)
      - [x] 에러 처리: 일부 지역 실패해도 성공한 지역만 포함
      - [x] `lastModified`: API 응답의 `modifiedtime` 사용
      - [x] `changeFrequency`: 정적 페이지 "daily", 상세페이지 "weekly"
      - [x] `priority`: 정적 페이지 1.0, 상세페이지 0.8
      - [x] 환경변수 `NEXT_PUBLIC_SITE_URL` 사용 (기본값: "https://my-trip.vercel.app")
    - [x] `app/robots.ts` 생성 - robots.txt 구현
      - [x] Next.js 15의 `MetadataRoute.Robots` 타입 사용
      - [x] 모든 크롤러 허용 (`User-agent: *`)
      - [x] `/bookmarks` 경로 차단 (`Disallow: /bookmarks`)
      - [x] sitemap URL 포함 (`Sitemap: ${BASE_URL}/sitemap.xml`)
      - [x] 환경변수 `NEXT_PUBLIC_SITE_URL` 사용
- [x] 성능 최적화
  - [x] Lighthouse 점수 측정 (목표: > 80)
  - [x] 코드 분할 확인
  - [x] 불필요한 번들 제거
  - [x] API 응답 캐싱 전략 확인
  ***
  - 추가 개발 사항
    - [x] `scripts/lighthouse.js` 생성 - Lighthouse 성능 측정 스크립트
      - [x] 주요 페이지 측정: `/`, `/stats`, `/places/[contentId]`
      - [x] 목표 점수 설정: Performance > 80, Accessibility > 90, Best Practices > 90, SEO > 90
      - [x] HTML 리포트 저장 기능
      - [x] 점수 요약 및 통과 여부 확인
    - [x] `package.json` 스크립트 추가
      - [x] `lighthouse:measure`: Lighthouse 측정 실행
      - [x] `lighthouse:ci`: CI 환경용 측정
      - [x] `analyze`: 번들 분석 실행
    - [x] `package.json` devDependencies 추가
      - [x] `lighthouse`: Lighthouse 측정 도구
      - [x] `chrome-launcher`: Chrome 헤드리스 실행
      - [x] `@next/bundle-analyzer`: 번들 분석 도구
    - [x] 코드 분할 최적화
      - [x] `components/stats/region-chart-client.tsx`: recharts 동적 import 적용
      - [x] `components/stats/type-chart-client.tsx`: recharts 동적 import 적용
      - [x] 각 recharts 컴포넌트를 개별적으로 동적 import하여 코드 분할
    - [x] `next.config.ts` 최적화 설정
      - [x] `@next/bundle-analyzer` 설정 추가
      - [x] `experimental.optimizePackageImports` 설정: `lucide-react`, `recharts` 최적화
      - [x] 번들 분석 활성화: `ANALYZE=true` 환경변수로 제어
    - [x] API 응답 캐싱 전략 구현 (`lib/api/tour-api.ts`)
      - [x] `getAreaCode()`: `unstable_cache` 적용 (revalidate: 86400초 - 24시간)
      - [x] `getAreaBasedList()`: `unstable_cache` 적용 (revalidate: 300초 - 5분)
      - [x] `searchKeyword()`: `unstable_cache` 적용 (revalidate: 300초 - 5분)
      - [x] `getDetailCommon()`: `unstable_cache` 적용 (revalidate: 3600초 - 1시간)
      - [x] `getDetailIntro()`: `unstable_cache` 적용 (revalidate: 3600초 - 1시간)
      - [x] `getDetailImage()`: `unstable_cache` 적용 (revalidate: 3600초 - 1시간)
      - [x] `getDetailPetTour()`: `unstable_cache` 적용 (revalidate: 3600초 - 1시간)
      - [x] 캐시 태그 설정: `["tours", "area-based"]`, `["tours", "search"]`, `["tour-detail"]` 등
      - [x] 파라미터 기반 캐시 키 생성 (JSON 직렬화)
    - [x] `docs/PERFORMANCE.md` 생성 - 성능 최적화 문서
      - [x] 최적화 항목 설명
      - [x] 캐싱 전략 문서화
      - [x] 측정 방법 가이드
      - [x] 측정 결과 기록 템플릿
- [x] 환경변수 보안 검증
  - [x] 모든 필수 환경변수 확인
  - [x] `.env.example` 업데이트
  - [x] 프로덕션 환경변수 설정 가이드 작성
  ***
  - 추가 개발 사항
    - [x] `lib/utils/env.ts` 확장 - 환경변수 검증 함수 추가
      - [x] `validateClerkEnv()`: Clerk 환경변수 검증
      - [x] `validateSupabaseEnv()`: Supabase 환경변수 검증 (URL 형식 검증 포함)
      - [x] `validateTourApiEnv()`: 한국관광공사 API 환경변수 검증
      - [x] `validateNaverMapEnv()`: 네이버 지도 API 환경변수 검증
      - [x] `validateAllEnvVars()`: 모든 환경변수 통합 검증
      - [x] `EnvValidationResult` 타입 정의 (valid, missing, warnings)
    - [x] `scripts/verify-env.ts` 생성 - 환경변수 검증 스크립트
      - [x] dotenv를 사용하여 .env 파일 로드
      - [x] 각 카테고리별 환경변수 검증
      - [x] 누락된 필수 환경변수 목록 출력
      - [x] 선택적 환경변수에 대한 경고 출력
      - [x] 검증 결과에 따른 종료 코드 반환 (성공: 0, 실패: 1)
    - [x] `package.json`에 `verify:env` 스크립트 추가
      - [x] `tsx scripts/verify-env.ts` 실행
    - [x] `.env.example` 파일 생성
      - [x] 모든 필수 환경변수 템플릿 포함
      - [x] 각 환경변수에 대한 설명 주석 추가
      - [x] 보안 주의사항 포함
      - [x] 환경변수 그룹화 (Clerk, Supabase, Tour API, Naver Map, 기타)
      - [x] 예시 값 형식 제공 (실제 값은 제외)
    - [x] `docs/ENV_SETUP.md` 생성 - 프로덕션 환경변수 설정 가이드
      - [x] 로컬 개발 환경 설정 방법
      - [x] Vercel 프로덕션 환경 설정 방법
      - [x] 모든 환경변수 목록 및 설명 (필수/선택 구분)
      - [x] 각 서비스별 키 발급 방법 안내
      - [x] 보안 모범 사례 (NEXT*PUBLIC* 접두사 이해, 노출 방지)
      - [x] 환경변수 검증 방법
      - [x] 문제 해결 가이드
      - [x] 환경변수 관리 체크리스트
- [x] 배포 준비
  - [x] Vercel 배포 설정
  - [x] 환경변수 설정 (Vercel 대시보드)
  - [x] 빌드 테스트 (`pnpm build`)
  - [x] 프로덕션 배포 및 테스트
  ***
  - 추가 개발 사항
    - [x] `vercel.json` 생성 - Vercel 배포 설정 파일
      - [x] 빌드 명령어 설정: `pnpm build`
      - [x] 출력 디렉토리 설정: `.next`
      - [x] 프레임워크 설정: `nextjs`
      - [x] 설치 명령어 설정: `pnpm install`
      - [x] 개발 명령어 설정: `pnpm dev`
      - [x] 리전 설정: `icn1` (서울)
    - [x] `.vercelignore` 생성 - 배포에서 제외할 파일 지정
      - [x] 개발 및 테스트 파일 제외
      - [x] 환경 변수 파일 제외
      - [x] 문서 파일 제외 (README.md 제외)
      - [x] 스크립트 파일 제외 (verify-env.ts 제외)
      - [x] IDE 설정 파일 제외
      - [x] 로그 파일 제외
      - [x] 빌드 아티팩트 제외
    - [x] `docs/DEPLOYMENT.md` 생성 - 배포 가이드 문서
      - [x] 배포 전 준비 체크리스트
      - [x] Vercel 배포 설정 가이드 (대시보드 및 CLI)
      - [x] GitHub 연동 방법 (자동 배포)
      - [x] 환경변수 설정 가이드 (Vercel 대시보드)
      - [x] 환경별 환경변수 설정 방법 (Production, Preview, Development)
      - [x] 빌드 테스트 가이드
      - [x] 빌드 에러 해결 방법
      - [x] 프로덕션 배포 방법 (첫 배포 및 자동 배포)
      - [x] 배포 후 확인 사항 (기본 확인, 기능 테스트, 성능 테스트)
      - [x] 문제 해결 가이드 (빌드 실패, 환경변수 오류, API 호출 실패 등)
      - [x] 배포 체크리스트 (배포 전/중/후)
    - [x] `package.json`에 `build:test` 스크립트 추가
      - [x] 환경변수 검증 후 빌드 실행: `npm run verify:env && pnpm build`
      - [x] 배포 전 빌드 테스트에 활용 가능

## 추가 작업 (선택 사항)

- [ ] 다크 모드 지원
  - [ ] 테마 전환 기능
  - [ ] 모든 컴포넌트 다크 모드 스타일 적용
- [ ] PWA 지원
  - [ ] `app/manifest.ts` 생성
  - [ ] Service Worker 설정
  - [ ] 오프라인 지원
- [ ] 접근성 개선
  - [ ] ARIA 라벨 추가
  - [ ] 키보드 네비게이션 개선
  - [ ] 색상 대비 확인 (WCAG AA)
- [ ] 성능 모니터링
  - [ ] Web Vitals 측정
  - [ ] 에러 로깅 (Sentry 등)
- [ ] 사용자 피드백
  - [ ] 피드백 수집 기능
  - [ ] 버그 리포트 기능
